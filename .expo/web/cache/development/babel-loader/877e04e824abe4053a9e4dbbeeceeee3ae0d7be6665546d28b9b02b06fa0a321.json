{"ast":null,"code":"\"use strict\";\n\nvar _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport * as React from 'react';\nimport useLatestCallback from 'use-latest-callback';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/with-selector';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function useNavigationState(selector) {\n  _s();\n  const stateListener = React.useContext(NavigationStateListenerContext);\n  if (stateListener == null) {\n    throw new Error(\"Couldn't get the navigation state. Is your component inside a navigator?\");\n  }\n  const value = useSyncExternalStoreWithSelector(stateListener.subscribe, stateListener.getState, stateListener.getState, selector);\n  return value;\n}\n_s(useNavigationState, \"fYBshPYw9HzF+3iWmX4195qpO+s=\", false, function () {\n  return [useSyncExternalStoreWithSelector];\n});\nexport function NavigationStateListenerProvider({\n  state,\n  children\n}) {\n  _s2();\n  const listeners = React.useRef([]);\n  const getState = useLatestCallback(() => state);\n  const subscribe = useLatestCallback(callback => {\n    listeners.current.push(callback);\n    return () => {\n      listeners.current = listeners.current.filter(cb => cb !== callback);\n    };\n  });\n  React.useEffect(() => {\n    listeners.current.forEach(callback => callback());\n  }, [state]);\n  const context = React.useMemo(() => ({\n    getState,\n    subscribe\n  }), [getState, subscribe]);\n  return _jsx(NavigationStateListenerContext.Provider, {\n    value: context,\n    children: children\n  });\n}\n_s2(NavigationStateListenerProvider, \"6VPrRYK1nktpV0qbmsFVkGEFwRo=\", false, function () {\n  return [useLatestCallback, useLatestCallback];\n});\n_c = NavigationStateListenerProvider;\nconst NavigationStateListenerContext = React.createContext(undefined);\nvar _c;\n$RefreshReg$(_c, \"NavigationStateListenerProvider\");","map":{"version":3,"names":["React","useLatestCallback","useSyncExternalStoreWithSelector","jsx","_jsx","useNavigationState","selector","_s","stateListener","useContext","NavigationStateListenerContext","Error","value","subscribe","getState","NavigationStateListenerProvider","state","children","_s2","listeners","useRef","callback","current","push","filter","cb","useEffect","forEach","context","useMemo","Provider","_c","createContext","undefined","$RefreshReg$"],"sources":["/Users/edward/Documents/TeleMed/TeleMed/node_modules/@react-navigation/core/src/useNavigationState.tsx"],"sourcesContent":["import type { NavigationState, ParamListBase } from '@react-navigation/routers';\nimport * as React from 'react';\nimport useLatestCallback from 'use-latest-callback';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/with-selector';\n\ntype Selector<ParamList extends ParamListBase, T> = (\n  state: NavigationState<ParamList>\n) => T;\n\n/**\n * Hook to get a value from the current navigation state using a selector.\n *\n * @param selector Selector function to get a value from the state.\n */\nexport function useNavigationState<ParamList extends ParamListBase, T>(\n  selector: Selector<ParamList, T>\n): T {\n  const stateListener = React.useContext(NavigationStateListenerContext);\n\n  if (stateListener == null) {\n    throw new Error(\n      \"Couldn't get the navigation state. Is your component inside a navigator?\"\n    );\n  }\n\n  const value = useSyncExternalStoreWithSelector(\n    stateListener.subscribe,\n    // @ts-expect-error: this is unsafe, but needed to make the generic work\n    stateListener.getState,\n    stateListener.getState,\n    selector\n  );\n\n  return value;\n}\n\nexport function NavigationStateListenerProvider({\n  state,\n  children,\n}: {\n  state: NavigationState<ParamListBase>;\n  children: React.ReactNode;\n}) {\n  const listeners = React.useRef<(() => void)[]>([]);\n\n  const getState = useLatestCallback(() => state);\n\n  const subscribe = useLatestCallback((callback: () => void) => {\n    listeners.current.push(callback);\n\n    return () => {\n      listeners.current = listeners.current.filter((cb) => cb !== callback);\n    };\n  });\n\n  React.useEffect(() => {\n    listeners.current.forEach((callback) => callback());\n  }, [state]);\n\n  const context = React.useMemo(\n    () => ({\n      getState,\n      subscribe,\n    }),\n    [getState, subscribe]\n  );\n\n  return (\n    <NavigationStateListenerContext.Provider value={context}>\n      {children}\n    </NavigationStateListenerContext.Provider>\n  );\n}\n\nconst NavigationStateListenerContext = React.createContext<\n  | {\n      getState: () => NavigationState<ParamListBase>;\n      subscribe: (callback: () => void) => () => void;\n    }\n  | undefined\n>(undefined);\n"],"mappings":";;;;AACA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,iBAAiB,MAAM,qBAAqB;AACnD,SAASC,gCAAgC,QAAQ,uCAAuC;AAAC,SAAAC,GAAA,IAAAC,IAAA;AAWzF,OAAO,SAASC,kBAAkBA,CAChCC,QAAgC,EAC7B;EAAAC,EAAA;EACH,MAAMC,aAAa,GAAGR,KAAK,CAACS,UAAU,CAACC,8BAA8B,CAAC;EAEtE,IAAIF,aAAa,IAAI,IAAI,EAAE;IACzB,MAAM,IAAIG,KAAK,CACb,0EACF,CAAC;EACH;EAEA,MAAMC,KAAK,GAAGV,gCAAgC,CAC5CM,aAAa,CAACK,SAAS,EAEvBL,aAAa,CAACM,QAAQ,EACtBN,aAAa,CAACM,QAAQ,EACtBR,QACF,CAAC;EAED,OAAOM,KAAK;AACd;AAAAL,EAAA,CApBgBF,kBAAkB;EAAA,QAWlBH,gCAAgC;AAAA;AAWhD,OAAO,SAASa,+BAA+BA,CAAC;EAC9CC,KAAK;EACLC;AAIF,CAAC,EAAE;EAAAC,GAAA;EACD,MAAMC,SAAS,GAAGnB,KAAK,CAACoB,MAAM,CAAiB,EAAE,CAAC;EAElD,MAAMN,QAAQ,GAAGb,iBAAiB,CAAC,MAAMe,KAAK,CAAC;EAE/C,MAAMH,SAAS,GAAGZ,iBAAiB,CAAEoB,QAAoB,IAAK;IAC5DF,SAAS,CAACG,OAAO,CAACC,IAAI,CAACF,QAAQ,CAAC;IAEhC,OAAO,MAAM;MACXF,SAAS,CAACG,OAAO,GAAGH,SAAS,CAACG,OAAO,CAACE,MAAM,CAAEC,EAAE,IAAKA,EAAE,KAAKJ,QAAQ,CAAC;IACvE,CAAC;EACH,CAAC,CAAC;EAEFrB,KAAK,CAAC0B,SAAS,CAAC,MAAM;IACpBP,SAAS,CAACG,OAAO,CAACK,OAAO,CAAEN,QAAQ,IAAKA,QAAQ,CAAC,CAAC,CAAC;EACrD,CAAC,EAAE,CAACL,KAAK,CAAC,CAAC;EAEX,MAAMY,OAAO,GAAG5B,KAAK,CAAC6B,OAAO,CAC3B,OAAO;IACLf,QAAQ;IACRD;EACF,CAAC,CAAC,EACF,CAACC,QAAQ,EAAED,SAAS,CACtB,CAAC;EAED,OACET,IAAA,CAACM,8BAA8B,CAACoB,QAAQ;IAAClB,KAAK,EAAEgB,OAAQ;IAAAX,QAAA,EACrDA;EAAQ,CAC8B,CAAC;AAE9C;AAAAC,GAAA,CApCgBH,+BAA+B;EAAA,QAS5Bd,iBAAiB,EAEhBA,iBAAiB;AAAA;AAAA8B,EAAA,GAXrBhB,+BAA+B;AAsC/C,MAAML,8BAA8B,GAAGV,KAAK,CAACgC,aAAa,CAMxDC,SAAS,CAAC;AAAA,IAAAF,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}